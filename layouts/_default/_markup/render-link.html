{{- if strings.HasPrefix .Destination "http" -}}
    {{- if strings.HasSuffix .Destination ".zip" -}}
        <a href="{{ .Destination | safeURL }}" rel="noopener">{{ .Text | safeHTML }}</a>
    {{- else -}}
        <a href="{{ .Destination | safeURL }}" target="_blank" rel="noopener">{{ .Text | safeHTML }}</a>
    {{- end -}}
{{- else if strings.HasPrefix .Destination ("javadoc" | safeURL | relURL ) -}}
    <a href="{{ .Destination | safeURL }}" target="_blank">{{ .Text | safeHTML }}</a>
{{- else if strings.HasPrefix .Destination "mailto" -}}
    <a href="{{ .Destination | safeURL }}" rel="noopener">{{ .Text | safeHTML }}</a>
{{- else if strings.HasPrefix .Destination "#" -}}
    <a href="{{ .Destination | safeURL }}">{{ .Text | safeHTML }}</a>
{{- else -}}
    <a href="{{ .Destination | safeURL | relURL | replaceRE `^(.*)\/([^\./#]+)\/?(#.*)?$` `$1/$2/$3` }}">{{ .Text | safeHTML }}</a>
{{- end -}}